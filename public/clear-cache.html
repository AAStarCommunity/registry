<!DOCTYPE html>
<html>
<head>
  <title>Clear Analytics Cache</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>üóëÔ∏è Clear Analytics Cache</h1>
  <p>This will clear all cached gas analytics data from localStorage.</p>

  <button onclick="clearCache()">Clear Cache</button>

  <div id="result" class="result" style="display:none;"></div>

  <script>
    function clearCache() {
      let cleared = 0;
      const keys = [];

      // Find all keys starting with 'spm_gas-analytics'
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (key && key.startsWith('spm_gas-analytics')) {
          keys.push(key);
        }
      }

      // Remove them
      keys.forEach(key => {
        localStorage.removeItem(key);
        cleared++;
      });

      const result = document.getElementById('result');
      result.style.display = 'block';
      result.innerHTML = `‚úÖ Cleared ${cleared} cache entries:<br><br>${keys.map(k => `- ${k}`).join('<br>')}`;

      setTimeout(() => {
        window.location.href = '/';
      }, 2000);
    }
  </script>
</body>
</html>
